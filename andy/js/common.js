function getUrlVars(){for(var e,s=[],n=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),a=0;a<n.length;a++)e=n[a].split("="),s.push(e[0]),s[e[0]]=e[1];return s}$(document).ready(function(){function e(){P.wrp.hasClass("press_content")&&g(),P.wrp.hasClass("cars_content")&&w(),P.wrp.hasClass("cars_list")&&b(),P.wrp.hasClass("press_list")&&v(),P.wrp.hasClass("service")&&f(),P.wrp.hasClass("about")&&m(),P.wrp.hasClass("index")&&u()}function s(){var e=$(".pop .be_member"),s={name:e.find(".name").val(),email:e.find(".mail").val(),userpwd:e.find(".password").val(),userpwdagain:e.find(".password_again").val()};if(!(s.name&&s.email&&s.userpwd&&s.userpwdagain))return void alert("還有未填寫的資料。");var a=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return a.test(s.email)?s.userpwd!=s.userpwdagain?(alert("密碼前後不一致，請重新輸入"),e.find(".password").val(""),void e.find(".password_again").val("")):void $.ajax({url:"http://www.rhino-motor.com/Web/index.do?method=joinus",type:"POST",dataType:"json",data:s,success:function(e){console.log(e),0==e.status?n():alert(e.status)},error:function(e,s,n){console.log("error:",e,s,n)}}):void alert("E-mail格式不正確")}function n(){var e=$(".pop .be_member");e.find(".name").val(""),e.find(".mail").val(""),e.find(".password").val(""),e.find(".password_again").val(""),alert("註冊成功"),l(0)}function a(){var e=$(".footer .user_data"),s={customername:e.find(".user_name").val(),customertel:e.find(".user_phone").val(),customeremail:e.find(".user_mail").val(),customeraddress:e.find(".user_addr").val(),customercontent:$(".footer .message").val()};if(!(s.customername&&s.customertel&&s.customeremail&&s.customeraddress&&s.customercontent))return void alert("還有未填寫的資料。");var n=/^(0\d+)(\d{8})/;if(!n.test(s.customertel)||10!=s.customertel.length)return void alert("電話格式不正確，請填入手機號碼，例如：09xx 123 456，共10碼。");var a=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return a.test(s.customeremail)?void $.ajax({url:"http://www.rhino-motor.com/Web/index.do?method=linkus",type:"POST",dataType:"json",data:s,success:function(e){console.log(e),0==e.status?o():alert(e.status)},error:function(e,s,n){console.log("error:",e,s,n)}}):void alert("E-mail格式不正確")}function o(){var e=$(".footer .user_data");e.find(".user_name").val(""),e.find(".user_phone").val(""),e.find(".user_mail").val(""),e.find(".user_addr").val(""),$(".footer .message").val(""),alert("送出成功")}function t(){S.user_name?alert(S.user_name+"登入成功"):alert("登入成功"),c(!1),$(".pop .login").find(".mail").val(""),$(".pop .login").find(".password").val("")}function r(){var e=$(".pop .login"),s={email:e.find(".mail").val(),userpwd:e.find(".password").val()};return s.email&&s.userpwd?void $.ajax({url:"http://www.rhino-motor.com/Web/index.do?method=joinus",type:"POST",dataType:"json",data:s,success:function(e){console.log(e),0==e.status?t():alert(e.status)},error:function(e,s,n){console.log("error:",e,s,n)}}):void alert("還有未填寫的資料。")}function l(e){0==e?$(".pop .popin").removeClass("on"):1==e&&$(".pop .popin").addClass("on")}function c(e){e?$(".pop").fadeIn():$(".pop").fadeOut()}function d(){try{FB.api("/1470554113202974?fields=posts.limit(6){message,link,full_picture,updated_time},name","GET",{access_token:"1417992648226716|0FTtA2BhHYwO8PnVPu6hPVWzLIM"},function(e){P.fbpost=e,p(),e&&!e.error||console.log("FB POST ERROR")})}catch(e){console.log("FB POST ERROR")}}function p(){for(i in P.fbpost.posts.data)$(".fb_areain").append('<div class="post"><a href="'+P.fbpost.posts.data[i].link+'" target="blank"><div class="n"><div class="front" style="background-image: url('+P.fbpost.posts.data[i].full_picture+'); background-position:center; background-size:cover; background-repeat:no-repeat;"></div><div class="back"><div class="title"><div class="lt"></div><div class="rt"><div class="name">'+P.fbpost.name+'</div><div class="date">'+P.fbpost.posts.data[i].updated_time.split("T")[0]+'</div></div></div><div class="des">'+P.fbpost.posts.data[i].message+"</div></div></div></a></div>");C(!1)}function u(){P.banner_swiper=new Swiper(".banner_container",{speed:1e3,wrapperClass:"swiper-wrapper",slideClass:"swiper-slide",slidesPerView:1,pagination:".banner-pagination",paginationClickable:!0,spaceBetween:0,loop:!0,autoplay:6e3,autoplayDisableOnInteraction:!1}),$(".banner .leftbtn").click(function(){P.banner_swiper.slidePrev()}),$(".banner .rightbtn").click(function(){P.banner_swiper.slideNext()}),setTimeout(function(){d()},300)}function f(){window.onscroll=x,x(),C(!1)}function m(){C(!1)}function v(){P.nowbrands=getUrlVars().brands,P.nowbrands||(P.nowbrands=1),$(".sec_menuin .menua").eq(1*P.nowbrands-1).addClass("on"),C(!1)}function b(){P.nowbrands=getUrlVars().brands,P.nowbrands||(P.nowbrands=1),$(".sec_menuin .menua").eq(1*P.nowbrands-1).addClass("on"),C(!1)}function w(){0!=$(".slide_show").length&&$(".slide_show .s_pic_box").mCustomScrollbar({scrollInertia:300,scrollEasing:"linear"}),0!=$(".cars_width").length&&$(".cars_width .item").mCustomScrollbar({scrollInertia:300,scrollEasing:"linear"}),0!=$(".cars_des").length&&$(".cars_des .w").mCustomScrollbar({scrollInertia:300,scrollEasing:"linear"}),0!=$(".fb_comment_box").length&&$(".fb_comment_box").mCustomScrollbar({scrollInertia:300,scrollEasing:"linear"}),C(!1)}function g(){0!=$(".slide_show").length&&$(".slide_show .s_pic_box").mCustomScrollbar({scrollInertia:300,scrollEasing:"linear"}),C(!1)}function h(){function e(){0>t?t=o-1:t>o-1&&(t=0),i.removeClass("on").eq(t).addClass("on"),s.attr("class","b_pic off"),setTimeout(function(){s.find("img").attr("src",i.eq(t).find("img").attr("src")).load(function(){s.attr("class","b_pic")}).each(function(){this.complete&&$(this).trigger("load")})},300)}var s=$(this).find(".b_pic"),n=s.find(".leftbtn"),a=s.find(".rightbtn"),i=$(this).find(".s_pic"),o=$(this).find("li").length,t=0;i.click(function(){t=$(this).parent().index(),e()}),n.click(function(){t-=1,e()}),a.click(function(){t+=1,e()}),e(t)}function _(e){var s=e.find("a").text();"CONTACT US"==s&&k()}function k(){$("html,body").animate({scrollTop:$(".contact").offset().top},500)}function C(e){e?$(".loading").fadeIn():$(".loading").fadeOut()}function x(){for(var e=window.pageYOffset+$(window).height()-P.bottomDis,s=$(".item"),n=0;n<s.length;n++)s.eq(n).offset().top<e?s.eq(n).hasClass("on")||s.eq(n).addClass("on"):s.eq(n).removeClass("on")}function y(){FB.api("/me?fields=permissions",function(e){S.allpermissions=!0;for(i in e.permissions.data)"declined"==e.permissions.data[i].status&&(S.allpermissions=!1);S.allpermissions?j():alert(A)})}function T(){FB.getLoginStatus(function(e){"connected"===e.status?(S.user_token=e.authResponse.accessToken,y()):O()})}function O(){if(device.mobile()){var e="https://m.facebook.com/dialog/oauth?client_id="+F+"&redirect_uri="+encodeURIComponent(q)+"&scope="+S.per+"&auth_type=rerequest";window.location.href=e}else FB.login(function(e){e.authResponse?(S.user_token=FB.getAuthResponse().accessToken,y()):alert(A)},{scope:S.per,auth_type:"rerequest"})}function j(){FB.api("/me",function(e){S.user_id=e.id,S.user_name=e.name,FB.api("/me?fields=email",function(e){S.user_email=e.email,I()})})}function B(){console.log("AfterFBback")}function I(){console.log("使用者ID:"+S.user_id),console.log("使用者名字:"+S.user_name),console.log("FB 使用者信箱:"+S.user_email);var e={email:S.user_email,userpwd:S.user_id,name:S.user_name};$.ajax({url:"http://www.rhino-motor.com/Web/index.do?method=fblogin",type:"POST",dataType:"json",data:e,success:function(e){console.log(e),0==e.status?t():alert(e.status)},error:function(e,s,n){console.log("error:",e,s,n)}})}var P={};P.wrp=$(".wrapper"),$("body").append('<div class="pop"><div class="popin"><div class="closebtn"></div><div class="pages_all"><div class="pages be_member"><div class="title">加入會員</div><input type="text" class="name" placeholder="Name"><input type="text" class="mail" placeholder="E-MAIL"><input type="text" class="password" placeholder="Password"><input type="text" class="password_again" placeholder="Password again"><div class="btn"><a href="javascript:;" class="sendbtn">加入</a><a href="javascript:;" class="cancelbtn">取消</a></div></div><div class="pages login"><div class="title">會員登入</div><input type="text" class="mail" placeholder="E-MAIL"><input type="text" class="password" placeholder="Password"><div class="btn"><div class="fblogin"></div><a href="javascript:;" class="loginbtn">登入</a><a href="javascript:;" class="registbtn">註冊</a></div></div></div></div><div class="cover"></div></div>'),P.bottomDis=$(window).height()/10;var S={per:"public_profile,email"},F="1417992648226716",E=window.location.href,q=E+"?fbback=1",A="你必須同意授權";FB.init({appId:F,channelUrl:E,status:!0,xfbml:!0,version:"v2.4",cookie:!0}),1==getUrlVars().fbback&&(B(),T()),$(".be_member .sendbtn").click(function(){s()}),$(".footer .send_btn").click(function(){a()}),$(".pop .loginbtn").click(function(){r()}),$(".pop .fblogin").click(function(){O()}),$(".pop .cover").click(function(){c(!1)}),$(".pop .closebtn").click(function(){c(!1)}),$(".pop .registbtn").click(function(){l(1)}),$(".pop .cancelbtn").click(function(){l(0)}),$(".member_btn").click(function(){c(!0)}),$(".menu .menua").click(function(){_($(this))}),$(".menu_mobile .menua").click(function(){_($(this))}),$(".slide_show").each(h),$(window).load(e)});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi5qcyJdLCJuYW1lcyI6WyJnZXRVcmxWYXJzIiwiaGFzaCIsInZhcnMiLCJoYXNoZXMiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJzbGljZSIsImluZGV4T2YiLCJzcGxpdCIsImkiLCJsZW5ndGgiLCJwdXNoIiwiJCIsImRvY3VtZW50IiwicmVhZHkiLCJ3aW5kb3dfbG9hZCIsIndlYkRhdGEiLCJ3cnAiLCJoYXNDbGFzcyIsInByZXNzX2NvbnRlbnQiLCJjYXJzX2NvbnRlbnQiLCJjYXJzX2xpc3QiLCJwcmVzc19saXN0Iiwic2VydmljZSIsImFib3V0IiwiaW5kZXhmYyIsImpvaW51c0ZDIiwibyIsInVzZXJfZGF0YSIsIm5hbWUiLCJmaW5kIiwidmFsIiwiZW1haWwiLCJ1c2VycHdkIiwidXNlcnB3ZGFnYWluIiwiYWxlcnQiLCJyZSIsInRlc3QiLCJhamF4IiwidXJsIiwidHlwZSIsImRhdGFUeXBlIiwiZGF0YSIsInN1Y2Nlc3MiLCJjb25zb2xlIiwibG9nIiwic3RhdHVzIiwiYWZ0ZXJqb2ludXMiLCJlcnJvciIsInhociIsInRleHRTdGF0dXMiLCJlcnJvclRocm93biIsImNoYW5nZW1lbWJlcnBvcCIsImNvbnRhY3RGQyIsImN1c3RvbWVybmFtZSIsImN1c3RvbWVydGVsIiwiY3VzdG9tZXJlbWFpbCIsImN1c3RvbWVyYWRkcmVzcyIsImN1c3RvbWVyY29udGVudCIsInBhdHRlcm4iLCJhZnRlcmNvbnRhY3QiLCJhZnRlckxvZ2luIiwiRkJkYXRhIiwidXNlcl9uYW1lIiwic2hvd21lbWJlcnBvcCIsIm1lbWJlcl9sb2dpbiIsIl9uIiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsIl90IiwiZmFkZUluIiwiZmFkZU91dCIsImdldEZCUE9TVCIsIkZCIiwiYXBpIiwiYWNjZXNzX3Rva2VuIiwicmVzcG9uc2UiLCJmYnBvc3QiLCJpbnNlcnRGQlBPU1QiLCJlcnIiLCJwb3N0cyIsImFwcGVuZCIsImxpbmsiLCJmdWxsX3BpY3R1cmUiLCJ1cGRhdGVkX3RpbWUiLCJtZXNzYWdlIiwic2hvd2xvYWRpbmciLCJiYW5uZXJfc3dpcGVyIiwiU3dpcGVyIiwic3BlZWQiLCJ3cmFwcGVyQ2xhc3MiLCJzbGlkZUNsYXNzIiwic2xpZGVzUGVyVmlldyIsInBhZ2luYXRpb24iLCJwYWdpbmF0aW9uQ2xpY2thYmxlIiwic3BhY2VCZXR3ZWVuIiwibG9vcCIsImF1dG9wbGF5IiwiYXV0b3BsYXlEaXNhYmxlT25JbnRlcmFjdGlvbiIsImNsaWNrIiwic2xpZGVQcmV2Iiwic2xpZGVOZXh0Iiwic2V0VGltZW91dCIsIm9uc2Nyb2xsIiwid2luZG93T25zY3JvbGwiLCJub3dicmFuZHMiLCJlcSIsIm1DdXN0b21TY3JvbGxiYXIiLCJzY3JvbGxJbmVydGlhIiwic2Nyb2xsRWFzaW5nIiwic2xpZGVfc2hvd2ZjIiwiY2hhbmdlX3BpYyIsIm5vd251bSIsIl9sZW5ndGgiLCJzX3BpYyIsImJfcGljIiwiYXR0ciIsImxvYWQiLCJlYWNoIiwidGhpcyIsImNvbXBsZXRlIiwidHJpZ2dlciIsImxlZnRidG4iLCJyaWdodGJ0biIsInBhcmVudCIsImluZGV4IiwibWVudUNsaWNrIiwiX28iLCJfdHh0IiwidGV4dCIsImdvY29udGFjdCIsImFuaW1hdGUiLCJzY3JvbGxUb3AiLCJvZmZzZXQiLCJ0b3AiLCJfYm90dG9tIiwicGFnZVlPZmZzZXQiLCJoZWlnaHQiLCJib3R0b21EaXMiLCJhbmlEb20iLCJGQmFwaV9wZXJtaXNzaW9ucyIsInJlcyIsImFsbHBlcm1pc3Npb25zIiwicGVybWlzc2lvbnMiLCJGQmFwaV9nZXRkYXRhIiwicGVybWlzc2lvbnN3b3JkIiwiRkJnZXRMb2dpblN0YXR1cyIsImdldExvZ2luU3RhdHVzIiwidXNlcl90b2tlbiIsImF1dGhSZXNwb25zZSIsImFjY2Vzc1Rva2VuIiwiRkJsb2dpbiIsImRldmljZSIsIm1vYmlsZSIsImZidXJsIiwiRkJBcHBJZCIsImVuY29kZVVSSUNvbXBvbmVudCIsImJhY2t1cmwiLCJwZXIiLCJsb2dpbiIsImdldEF1dGhSZXNwb25zZSIsInNjb3BlIiwiYXV0aF90eXBlIiwidXNlcl9pZCIsImlkIiwidXNlcl9lbWFpbCIsIkFmdGVyRkJMb2dpbiIsIkFmdGVyRkJiYWNrIiwibWFpbnVybCIsImluaXQiLCJhcHBJZCIsImNoYW5uZWxVcmwiLCJ4ZmJtbCIsInZlcnNpb24iLCJjb29raWUiXSwibWFwcGluZ3MiOiJBQW1aQSxRQUFTQSxjQUVQLElBQUksR0FEUUMsR0FBUkMsS0FBaUJDLEVBQU9DLE9BQU9DLFNBQVNDLEtBQUtDLE1BQU1ILE9BQU9DLFNBQVNDLEtBQUtFLFFBQVEsS0FBSyxHQUFHQyxNQUFNLEtBQzFGQyxFQUFFLEVBQUVBLEVBQUVQLEVBQU9RLE9BQU9ELElBQUtULEVBQUtFLEVBQU9PLEdBQUdELE1BQU0sS0FBS1AsRUFBS1UsS0FBS1gsRUFBSyxJQUFJQyxFQUFLRCxFQUFLLElBQUlBLEVBQUssRUFDakcsT0FBT0MsR0F0WlRXLEVBQUVDLFVBQVVDLE1BQU0sV0E2Q2pCLFFBQVNDLEtBQ0xDLEVBQVFDLElBQUlDLFNBQVMsa0JBQWtCQyxJQUNyQ0gsRUFBUUMsSUFBSUMsU0FBUyxpQkFBaUJFLElBQ3RDSixFQUFRQyxJQUFJQyxTQUFTLGNBQWNHLElBQ25DTCxFQUFRQyxJQUFJQyxTQUFTLGVBQWVJLElBQ3BDTixFQUFRQyxJQUFJQyxTQUFTLFlBQVlLLElBQ2pDUCxFQUFRQyxJQUFJQyxTQUFTLFVBQVVNLElBQy9CUixFQUFRQyxJQUFJQyxTQUFTLFVBQVVPLElBS3BDLFFBQVNDLEtBQ1AsR0FBSUMsR0FBSWYsRUFBRSxtQkFDTmdCLEdBQ0ZDLEtBQU1GLEVBQUVHLEtBQUssU0FBU0MsTUFDdEJDLE1BQU9MLEVBQUVHLEtBQUssU0FBU0MsTUFDdkJFLFFBQVNOLEVBQUVHLEtBQUssYUFBYUMsTUFDN0JHLGFBQWNQLEVBQUVHLEtBQUssbUJBQW1CQyxNQUUxQyxNQUFJSCxFQUFVQyxNQUFTRCxFQUFVSSxPQUFVSixFQUFVSyxTQUFZTCxFQUFVTSxjQUV6RSxXQURBQyxPQUFNLFlBR1IsSUFBSUMsR0FBSywySkFDVCxPQUFJQSxHQUFHQyxLQUFLVCxFQUFVSSxPQUluQkosRUFBVUssU0FBV0wsRUFBVU0sY0FDaENDLE1BQU0saUJBQ05SLEVBQUVHLEtBQUssYUFBYUMsSUFBSSxRQUN4QkosR0FBRUcsS0FBSyxtQkFBbUJDLElBQUksU0FHaENuQixHQUFFMEIsTUFDRUMsSUFBSyx3REFDTEMsS0FBTSxPQUNOQyxTQUFVLE9BQ1ZDLEtBQUtkLEVBQ0xlLFFBQVMsU0FBU0QsR0FDaEJFLFFBQVFDLElBQUlILEdBQ0ksR0FBYkEsRUFBS0ksT0FDTkMsSUFDSVosTUFBTU8sRUFBS0ksU0FDakJFLE1BQU8sU0FBU0MsRUFBS0MsRUFBWUMsR0FDakNQLFFBQVFDLElBQUksU0FBVUksRUFBS0MsRUFBWUMsVUFwQjNDaEIsT0FBTSxlQXdCVixRQUFTWSxLQUNQLEdBQUlwQixHQUFJZixFQUFFLGtCQUNWZSxHQUFFRyxLQUFLLFNBQVNDLElBQUksSUFDcEJKLEVBQUVHLEtBQUssU0FBU0MsSUFBSSxJQUNwQkosRUFBRUcsS0FBSyxhQUFhQyxJQUFJLElBQ3hCSixFQUFFRyxLQUFLLG1CQUFtQkMsSUFBSSxJQUM5QkksTUFBTSxRQUNOaUIsRUFBZ0IsR0FFbEIsUUFBU0MsS0FDUCxHQUFJMUIsR0FBSWYsRUFBRSxzQkFDTmdCLEdBQ0YwQixhQUFjM0IsRUFBRUcsS0FBSyxjQUFjQyxNQUNuQ3dCLFlBQWE1QixFQUFFRyxLQUFLLGVBQWVDLE1BQ25DeUIsY0FBZTdCLEVBQUVHLEtBQUssY0FBY0MsTUFDcEMwQixnQkFBaUI5QixFQUFFRyxLQUFLLGNBQWNDLE1BQ3RDMkIsZ0JBQWlCOUMsRUFBRSxvQkFBb0JtQixNQUV6QyxNQUFJSCxFQUFVMEIsY0FBaUIxQixFQUFVMkIsYUFBZ0IzQixFQUFVNEIsZUFBa0I1QixFQUFVNkIsaUJBQW9CN0IsRUFBVThCLGlCQUUzSCxXQURBdkIsT0FBTSxZQUdSLElBQUl3QixHQUFVLGdCQUNkLEtBQUtBLEVBQVF0QixLQUFLVCxFQUFVMkIsY0FBOEMsSUFBOUIzQixFQUFVMkIsWUFBWTdDLE9BRWhFLFdBREF5QixPQUFNLHdDQUdSLElBQUlDLEdBQUssMkpBQ1QsT0FBSUEsR0FBR0MsS0FBS1QsRUFBVTRCLG1CQUl0QjVDLEdBQUUwQixNQUNFQyxJQUFLLHdEQUNMQyxLQUFNLE9BQ05DLFNBQVUsT0FDVkMsS0FBS2QsRUFDTGUsUUFBUyxTQUFTRCxHQUNoQkUsUUFBUUMsSUFBSUgsR0FDSSxHQUFiQSxFQUFLSSxPQUNOYyxJQUNJekIsTUFBTU8sRUFBS0ksU0FDakJFLE1BQU8sU0FBU0MsRUFBS0MsRUFBWUMsR0FDakNQLFFBQVFDLElBQUksU0FBVUksRUFBS0MsRUFBWUMsVUFkM0NoQixPQUFNLGVBa0JWLFFBQVN5QixLQUNQLEdBQUlqQyxHQUFJZixFQUFFLHFCQUNWZSxHQUFFRyxLQUFLLGNBQWNDLElBQUksSUFDekJKLEVBQUVHLEtBQUssZUFBZUMsSUFBSSxJQUMxQkosRUFBRUcsS0FBSyxjQUFjQyxJQUFJLElBQ3pCSixFQUFFRyxLQUFLLGNBQWNDLElBQUksSUFDekJuQixFQUFFLG9CQUFvQm1CLElBQUksSUFDMUJJLE1BQU0sUUFFUixRQUFTMEIsS0FDSkMsRUFBT0MsVUFBVzVCLE1BQU0yQixFQUFPQyxVQUFZLFFBQ3pDNUIsTUFBTSxRQUNYNkIsR0FBYyxHQUNkcEQsRUFBRSxlQUFla0IsS0FBSyxTQUFTQyxJQUFJLElBQ25DbkIsRUFBRSxlQUFla0IsS0FBSyxhQUFhQyxJQUFJLElBRXpDLFFBQVNrQyxLQUVQLEdBQUl0QyxHQUFJZixFQUFFLGVBQ05nQixHQUNGSSxNQUFPTCxFQUFFRyxLQUFLLFNBQVNDLE1BQ3ZCRSxRQUFTTixFQUFFRyxLQUFLLGFBQWFDLE1BRS9CLE9BQUlILEdBQVVJLE9BQVVKLEVBQVVLLFlBSWxDckIsR0FBRTBCLE1BQ0VDLElBQUssd0RBQ0xDLEtBQU0sT0FDTkMsU0FBVSxPQUNWQyxLQUFLZCxFQUNMZSxRQUFTLFNBQVNELEdBQ2hCRSxRQUFRQyxJQUFJSCxHQUNJLEdBQWJBLEVBQUtJLE9BQ05lLElBQ0kxQixNQUFNTyxFQUFLSSxTQUNqQkUsTUFBTyxTQUFTQyxFQUFLQyxFQUFZQyxHQUNqQ1AsUUFBUUMsSUFBSSxTQUFVSSxFQUFLQyxFQUFZQyxVQWQzQ2hCLE9BQU0sYUFrQlYsUUFBU2lCLEdBQWdCYyxHQUNkLEdBQU5BLEVBQVN0RCxFQUFFLGVBQWV1RCxZQUFZLE1BQzNCLEdBQU5ELEdBQVN0RCxFQUFFLGVBQWV3RCxTQUFTLE1BRTdDLFFBQVNKLEdBQWNLLEdBQ2xCQSxFQUNEekQsRUFBRSxRQUFRMEQsU0FFVjFELEVBQUUsUUFBUTJELFVBR2QsUUFBU0MsS0FDUCxJQUNFQyxHQUFHQyxJQUNELHVGQUNBLE9BRUVDLGFBQWdCLGdEQUVsQixTQUFVQyxHQUNSNUQsRUFBUTZELE9BQVNELEVBQ2pCRSxJQUNJRixJQUFhQSxFQUFTNUIsT0FDckJKLFFBQVFDLElBQUksbUJBR3JCLE1BQU1rQyxHQUFLbkMsUUFBUUMsSUFBSSxrQkFFM0IsUUFBU2lDLEtBQ1AsSUFBSXJFLElBQUtPLEdBQVE2RCxPQUFPRyxNQUFNdEMsS0FDNUI5QixFQUFFLGNBQWNxRSxPQUFPLDhCQUErQmpFLEVBQVE2RCxPQUFPRyxNQUFNdEMsS0FBS2pDLEdBQUd5RSxLQUFNLG1GQUFvRmxFLEVBQVE2RCxPQUFPRyxNQUFNdEMsS0FBS2pDLEdBQUcwRSxhQUFlLDBMQUEyTG5FLEVBQVE2RCxPQUFPaEQsS0FBTSwyQkFBNEJiLEVBQVE2RCxPQUFPRyxNQUFNdEMsS0FBS2pDLEdBQUcyRSxhQUFhNUUsTUFBTSxLQUFLLEdBQUksc0NBQXVDUSxFQUFRNkQsT0FBT0csTUFBTXRDLEtBQUtqQyxHQUFHNEUsUUFBUywrQkFFN2tCQyxJQUFZLEdBRWQsUUFBUzdELEtBQ1BULEVBQVF1RSxjQUFnQixHQUFJQyxRQUFPLHFCQUM3QkMsTUFBTSxJQUNOQyxhQUFjLGlCQUNkQyxXQUFZLGVBQ1pDLGNBQWUsRUFDZkMsV0FBWSxxQkFDWkMscUJBQXFCLEVBQ3JCQyxhQUFjLEVBQ2RDLE1BQU0sRUFDTkMsU0FBUyxJQUNUQyw4QkFBNkIsSUFFbkN0RixFQUFFLG9CQUFvQnVGLE1BQU0sV0FBV25GLEVBQVF1RSxjQUFjYSxjQUM3RHhGLEVBQUUscUJBQXFCdUYsTUFBTSxXQUFXbkYsRUFBUXVFLGNBQWNjLGNBQzlEQyxXQUFXLFdBQVc5QixLQUFjLEtBRXRDLFFBQVNqRCxLQUNQcEIsT0FBT29HLFNBQVdDLEVBQ2xCQSxJQUNBbEIsR0FBWSxHQUVkLFFBQVM5RCxLQUNQOEQsR0FBWSxHQUVkLFFBQVNoRSxLQUNQTixFQUFReUYsVUFBWTFHLGFBQXFCLE9BQ3JDaUIsRUFBUXlGLFlBQVd6RixFQUFReUYsVUFBVSxHQUN6QzdGLEVBQUUsc0JBQXNCOEYsR0FBcUIsRUFBbEIxRixFQUFReUYsVUFBWSxHQUFHckMsU0FBUyxNQUMzRGtCLEdBQVksR0FFZCxRQUFTakUsS0FDUEwsRUFBUXlGLFVBQVkxRyxhQUFxQixPQUNyQ2lCLEVBQVF5RixZQUFXekYsRUFBUXlGLFVBQVUsR0FDekM3RixFQUFFLHNCQUFzQjhGLEdBQXFCLEVBQWxCMUYsRUFBUXlGLFVBQVksR0FBR3JDLFNBQVMsTUFDM0RrQixHQUFZLEdBRWQsUUFBU2xFLEtBQ3NCLEdBQTFCUixFQUFFLGVBQWVGLFFBQVlFLEVBQUUsMEJBQTBCK0Ysa0JBQWtCQyxjQUFjLElBQUlDLGFBQWEsV0FDaEYsR0FBMUJqRyxFQUFFLGVBQWVGLFFBQVlFLEVBQUUscUJBQXFCK0Ysa0JBQWtCQyxjQUFjLElBQUlDLGFBQWEsV0FDN0UsR0FBeEJqRyxFQUFFLGFBQWFGLFFBQVlFLEVBQUUsZ0JBQWdCK0Ysa0JBQWtCQyxjQUFjLElBQUlDLGFBQWEsV0FDaEUsR0FBOUJqRyxFQUFFLG1CQUFtQkYsUUFBWUUsRUFBRSxtQkFBbUIrRixrQkFBa0JDLGNBQWMsSUFBSUMsYUFBYSxXQUMxR3ZCLEdBQVksR0FFZixRQUFTbkUsS0FDcUIsR0FBMUJQLEVBQUUsZUFBZUYsUUFBWUUsRUFBRSwwQkFBMEIrRixrQkFBa0JDLGNBQWMsSUFBSUMsYUFBYSxXQUMzR3ZCLEdBQVksR0FFZixRQUFTd0IsS0FXUixRQUFTQyxLQUNLLEVBQVBDLEVBQVVBLEVBQVNDLEVBQVEsRUFDdEJELEVBQVFDLEVBQVEsSUFBR0QsRUFBUyxHQUNwQ0UsRUFBTS9DLFlBQVksTUFBTXVDLEdBQUdNLEdBQVE1QyxTQUFTLE1BQy9DK0MsRUFBTUMsS0FBSyxRQUFRLGFBQ25CZCxXQUFXLFdBQ1ZhLEVBQU1yRixLQUFLLE9BQU9zRixLQUFLLE1BQU1GLEVBQU1SLEdBQUdNLEdBQVFsRixLQUFLLE9BQU9zRixLQUFLLFFBQVFDLEtBQUssV0FDM0VGLEVBQU1DLEtBQUssUUFBUSxXQUNqQkUsS0FBSyxXQUNIQyxLQUFLQyxVQUFXNUcsRUFBRTJHLE1BQU1FLFFBQVEsV0FFcEMsS0FyQkgsR0FBSU4sR0FBUXZHLEVBQUUyRyxNQUFNekYsS0FBSyxVQUNuQjRGLEVBQVVQLEVBQU1yRixLQUFLLFlBQ3JCNkYsRUFBV1IsRUFBTXJGLEtBQUssYUFDeEJvRixFQUFRdEcsRUFBRTJHLE1BQU16RixLQUFLLFVBQ25CbUYsRUFBVXJHLEVBQUUyRyxNQUFNekYsS0FBSyxNQUFNcEIsT0FDN0JzRyxFQUFTLENBQ2ZFLEdBQU1mLE1BQU0sV0FBV2EsRUFBU3BHLEVBQUUyRyxNQUFNSyxTQUFTQyxRQUFRZCxNQUN2RFcsRUFBUXZCLE1BQU0sV0FBV2EsR0FBUSxFQUFFRCxNQUNuQ1ksRUFBU3hCLE1BQU0sV0FBV2EsR0FBUSxFQUFFRCxNQUNwQ0EsRUFBV0MsR0FlYixRQUFTYyxHQUFVQyxHQUNqQixHQUFJQyxHQUFPRCxFQUFHakcsS0FBSyxLQUFLbUcsTUFDYixlQUFSRCxHQUFzQkUsSUFFM0IsUUFBU0EsS0FDUHRILEVBQUUsYUFBYXVILFNBQVNDLFVBQVV4SCxFQUFFLFlBQVl5SCxTQUFTQyxLQUFLLEtBRWhFLFFBQVNoRCxHQUFZakIsR0FDaEJBLEVBQUl6RCxFQUFFLFlBQVkwRCxTQUNoQjFELEVBQUUsWUFBWTJELFVBRXJCLFFBQVNpQyxLQUdQLElBQUksR0FGQStCLEdBQVVwSSxPQUFPcUksWUFBYzVILEVBQUVULFFBQVFzSSxTQUFXekgsRUFBUTBILFVBQzVEQyxFQUFTL0gsRUFBRSxTQUNQSCxFQUFHLEVBQUdBLEVBQUVrSSxFQUFPakksT0FBT0QsSUFDekJrSSxFQUFPakMsR0FBR2pHLEdBQUc0SCxTQUFTQyxJQUFJQyxFQUN2QkksRUFBT2pDLEdBQUdqRyxHQUFHUyxTQUFTLE9BQ3hCeUgsRUFBT2pDLEdBQUdqRyxHQUFHMkQsU0FBUyxNQUdyQnVFLEVBQU9qQyxHQUFHakcsR0FBRzBELFlBQVksTUFJbEMsUUFBU3lFLEtBQ1BuRSxHQUFHQyxJQUFJLHlCQUEwQixTQUFVbUUsR0FDekMvRSxFQUFPZ0YsZ0JBQWlCLENBQ3BCLEtBQUlySSxJQUFLb0ksR0FBSUUsWUFBWXJHLEtBQ1ksWUFBaENtRyxFQUFJRSxZQUFZckcsS0FBS2pDLEdBQUdxQyxTQUN6QmdCLEVBQU9nRixnQkFBaUIsRUFHekJoRixHQUFPZ0YsZUFBZ0JFLElBQ3ZCN0csTUFBTThHLEtBS2pCLFFBQVNDLEtBQ1B6RSxHQUFHMEUsZUFBZSxTQUFTdkUsR0FDRCxjQUFwQkEsRUFBUzlCLFFBQ1hnQixFQUFPc0YsV0FBYXhFLEVBQVN5RSxhQUFhQyxZQUMxQ1YsS0FFRlcsTUFNSixRQUFTQSxLQUNQLEdBQUdDLE9BQU9DLFNBQVMsQ0FDakIsR0FBSUMsR0FBUSxpREFBaURDLEVBQVEsaUJBQWtCQyxtQkFBbUJDLEdBQVMsVUFBWS9GLEVBQU9nRyxJQUFJLHNCQUN0STNKLFFBQU9DLFNBQVNDLEtBQUtxSixNQUV6QmpGLElBQUdzRixNQUFNLFNBQVNuRixHQUNaQSxFQUFTeUUsY0FDWHZGLEVBQU9zRixXQUFhM0UsR0FBR3VGLGtCQUErQixZQUN0RHBCLEtBRUF6RyxNQUFNOEcsS0FFUGdCLE1BQU9uRyxFQUFPZ0csSUFBSUksVUFBVyxjQUtwQyxRQUFTbEIsS0FDUHZFLEdBQUdDLElBQUksTUFBTyxTQUFTRSxHQUNuQmQsRUFBT3FHLFFBQVF2RixFQUFTd0YsR0FDeEJ0RyxFQUFPQyxVQUFZYSxFQUFTL0MsS0FDNUI0QyxHQUFHQyxJQUFJLG1CQUFvQixTQUFVRSxHQUNyQ2QsRUFBT3VHLFdBQWF6RixFQUFTNUMsTUFDN0JzSSxRQU1OLFFBQVNDLEtBQ1AzSCxRQUFRQyxJQUFJLGVBSWQsUUFBU3lILEtBQ1AxSCxRQUFRQyxJQUFJLFNBQVNpQixFQUFPcUcsU0FDNUJ2SCxRQUFRQyxJQUFJLFNBQVNpQixFQUFPQyxXQUM1Qm5CLFFBQVFDLElBQUksWUFBWWlCLEVBQU91RyxXQUUvQixJQUFJekksSUFDRkksTUFBTzhCLEVBQU91RyxXQUNkcEksUUFBUzZCLEVBQU9xRyxRQUNoQnRJLEtBQU1pQyxFQUFPQyxVQUdmbkQsR0FBRTBCLE1BQ0VDLElBQUsseURBQ0xDLEtBQU0sT0FDTkMsU0FBVSxPQUNWQyxLQUFLZCxFQUNMZSxRQUFTLFNBQVNELEdBQ2hCRSxRQUFRQyxJQUFJSCxHQUNJLEdBQWJBLEVBQUtJLE9BQ05lLElBQ0kxQixNQUFNTyxFQUFLSSxTQUNqQkUsTUFBTyxTQUFTQyxFQUFLQyxFQUFZQyxHQUNqQ1AsUUFBUUMsSUFBSSxTQUFVSSxFQUFLQyxFQUFZQyxNQTVZaEQsR0FBSW5DLEtBQ0pBLEdBQVFDLElBQUlMLEVBQUUsWUFFYkEsRUFBRSxRQUFRcUUsT0FBTyw4MUJBR2pCakUsRUFBUTBILFVBQVk5SCxFQUFFVCxRQUFRc0ksU0FBVyxFQUN6QyxJQUFJM0UsSUFBUWdHLElBQUksd0JBQ1pILEVBQVUsbUJBQ1ZhLEVBQVVySyxPQUFPQyxTQUFTQyxLQUMxQndKLEVBQVVXLEVBQVEsWUFDbEJ2QixFQUFrQixTQUd0QnhFLElBQUdnRyxNQUNEQyxNQUFhZixFQUNiZ0IsV0FBYUgsRUFDYjFILFFBQWEsRUFDYjhILE9BQWEsRUFDYkMsUUFBYSxPQUNiQyxRQUFhLElBSVksR0FBeEIvSyxhQUFxQixTQUN0QndLLElBQ0FyQixLQUtGdEksRUFBRSx1QkFBdUJ1RixNQUFNLFdBQVd6RSxNQUMxQ2QsRUFBRSxxQkFBcUJ1RixNQUFNLFdBQVc5QyxNQUN4Q3pDLEVBQUUsa0JBQWtCdUYsTUFBTSxXQUFXbEMsTUFDckNyRCxFQUFFLGlCQUFpQnVGLE1BQU0sV0FBV29ELE1BQ3BDM0ksRUFBRSxlQUFldUYsTUFBTSxXQUFXbkMsR0FBYyxLQUNoRHBELEVBQUUsa0JBQWtCdUYsTUFBTSxXQUFXbkMsR0FBYyxLQUNuRHBELEVBQUUsbUJBQW1CdUYsTUFBTSxXQUFXL0MsRUFBZ0IsS0FDdER4QyxFQUFFLG1CQUFtQnVGLE1BQU0sV0FBVy9DLEVBQWdCLEtBQ3REeEMsRUFBRSxlQUFldUYsTUFBTSxXQUFXbkMsR0FBYyxLQUNoRHBELEVBQUUsZ0JBQWdCdUYsTUFBTSxXQUFXMkIsRUFBVWxILEVBQUUyRyxTQUMvQzNHLEVBQUUsdUJBQXVCdUYsTUFBTSxXQUFXMkIsRUFBVWxILEVBQUUyRyxTQUN2RDNHLEVBQUUsZUFBZTBHLEtBQUtSLEdBQ3RCbEcsRUFBRVQsUUFBUWtILEtBQUt0RyIsImZpbGUiOiJjb21tb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyIkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe1xyXG5cdHZhciB3ZWJEYXRhID17fTtcclxuXHR3ZWJEYXRhLndycD0kKCcud3JhcHBlcicpO1xyXG4gIC8vbWVtYmVyXHJcbiAgJCgnYm9keScpLmFwcGVuZCgnPGRpdiBjbGFzcz1cInBvcFwiPjxkaXYgY2xhc3M9XCJwb3BpblwiPjxkaXYgY2xhc3M9XCJjbG9zZWJ0blwiPjwvZGl2PjxkaXYgY2xhc3M9XCJwYWdlc19hbGxcIj48ZGl2IGNsYXNzPVwicGFnZXMgYmVfbWVtYmVyXCI+PGRpdiBjbGFzcz1cInRpdGxlXCI+5Yqg5YWl5pyD5ZOhPC9kaXY+PGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJuYW1lXCIgcGxhY2Vob2xkZXI9XCJOYW1lXCI+PGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJtYWlsXCIgcGxhY2Vob2xkZXI9XCJFLU1BSUxcIj48aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cInBhc3N3b3JkXCIgcGxhY2Vob2xkZXI9XCJQYXNzd29yZFwiPjxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwicGFzc3dvcmRfYWdhaW5cIiBwbGFjZWhvbGRlcj1cIlBhc3N3b3JkIGFnYWluXCI+PGRpdiBjbGFzcz1cImJ0blwiPjxhIGhyZWY9XCJqYXZhc2NyaXB0OjtcIiBjbGFzcz1cInNlbmRidG5cIj7liqDlhaU8L2E+PGEgaHJlZj1cImphdmFzY3JpcHQ6O1wiIGNsYXNzPVwiY2FuY2VsYnRuXCI+5Y+W5raIPC9hPjwvZGl2PjwvZGl2PjxkaXYgY2xhc3M9XCJwYWdlcyBsb2dpblwiPjxkaXYgY2xhc3M9XCJ0aXRsZVwiPuacg+WToeeZu+WFpTwvZGl2PjxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwibWFpbFwiIHBsYWNlaG9sZGVyPVwiRS1NQUlMXCI+PGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJwYXNzd29yZFwiIHBsYWNlaG9sZGVyPVwiUGFzc3dvcmRcIj48ZGl2IGNsYXNzPVwiYnRuXCI+PGRpdiBjbGFzcz1cImZibG9naW5cIj48L2Rpdj48YSBocmVmPVwiamF2YXNjcmlwdDo7XCIgY2xhc3M9XCJsb2dpbmJ0blwiPueZu+WFpTwvYT48YSBocmVmPVwiamF2YXNjcmlwdDo7XCIgY2xhc3M9XCJyZWdpc3RidG5cIj7oqLvlhoo8L2E+PC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz1cImNvdmVyXCI+PC9kaXY+PC9kaXY+Jyk7XHJcblxyXG5cdC8vSW5pdFxyXG4gIHdlYkRhdGEuYm90dG9tRGlzID0gJCh3aW5kb3cpLmhlaWdodCgpIC8gMTA7XHJcbiAgdmFyIEZCZGF0YT17cGVyOlwicHVibGljX3Byb2ZpbGUsZW1haWxcIn07XHJcbiAgdmFyIEZCQXBwSWQgPSAnMTQxNzk5MjY0ODIyNjcxNic7IC8vRkIgQVBQIElEXHJcbiAgdmFyIG1haW51cmwgPSB3aW5kb3cubG9jYXRpb24uaHJlZjsgLy/mtLvli5XntrLlnYBcclxuICB2YXIgYmFja3VybCA9IG1haW51cmwrJz9mYmJhY2s9MSc7IC8v5omL5qmf55m75YWl6L2J5Z2A5Zue5L6G55qE57ay5Z2AXHJcbiAgdmFyIHBlcm1pc3Npb25zd29yZCA9IFwi5L2g5b+F6aCI5ZCM5oSP5o6I5qyKXCI7IC8v5o6I5qyK5LiN6LazJuS4jeWQjOaEj+aOiOasiuaZgiDmlofmoYhcclxuXHJcbiAgLy/liJ3lp4vljJZGQiBBUFBcclxuICBGQi5pbml0KHtcclxuICAgIGFwcElkICAgICAgOiBGQkFwcElkLFxyXG4gICAgY2hhbm5lbFVybCA6IG1haW51cmwsXHJcbiAgICBzdGF0dXMgICAgIDogdHJ1ZSxcclxuICAgIHhmYm1sICAgICAgOiB0cnVlLFxyXG4gICAgdmVyc2lvbiAgICA6ICd2Mi40JyxcclxuICAgIGNvb2tpZSAgICAgOiB0cnVlXHJcbiAgfSk7IFxyXG5cclxuICAvL+WBtea4rOaJi+apn+eZu+WFpUZC6L2J5Z2A5Zue5L6GXHJcbiAgaWYoZ2V0VXJsVmFycygpWydmYmJhY2snXT09MSl7XHJcbiAgICBBZnRlckZCYmFjaygpO1xyXG4gICAgRkJnZXRMb2dpblN0YXR1cygpO1xyXG4gIH1cclxuXHJcbiAgXHRcclxuICAvL0FkZExpc3RlbmVyXHJcbiAgJCgnLmJlX21lbWJlciAuc2VuZGJ0bicpLmNsaWNrKGZ1bmN0aW9uKCl7am9pbnVzRkMoKTt9KTtcclxuICAkKCcuZm9vdGVyIC5zZW5kX2J0bicpLmNsaWNrKGZ1bmN0aW9uKCl7Y29udGFjdEZDKCk7fSk7XHJcbiAgJCgnLnBvcCAubG9naW5idG4nKS5jbGljayhmdW5jdGlvbigpe21lbWJlcl9sb2dpbigpO30pO1xyXG4gICQoJy5wb3AgLmZibG9naW4nKS5jbGljayhmdW5jdGlvbigpe0ZCbG9naW4oKTt9KTtcclxuICAkKCcucG9wIC5jb3ZlcicpLmNsaWNrKGZ1bmN0aW9uKCl7c2hvd21lbWJlcnBvcChmYWxzZSl9KTtcclxuICAkKCcucG9wIC5jbG9zZWJ0bicpLmNsaWNrKGZ1bmN0aW9uKCl7c2hvd21lbWJlcnBvcChmYWxzZSl9KTtcclxuICAkKCcucG9wIC5yZWdpc3RidG4nKS5jbGljayhmdW5jdGlvbigpe2NoYW5nZW1lbWJlcnBvcCgxKTt9KTtcclxuICAkKCcucG9wIC5jYW5jZWxidG4nKS5jbGljayhmdW5jdGlvbigpe2NoYW5nZW1lbWJlcnBvcCgwKTt9KTsgIFxyXG4gICQoJy5tZW1iZXJfYnRuJykuY2xpY2soZnVuY3Rpb24oKXtzaG93bWVtYmVycG9wKHRydWUpO30pO1xyXG4gICQoJy5tZW51IC5tZW51YScpLmNsaWNrKGZ1bmN0aW9uKCl7bWVudUNsaWNrKCQodGhpcykpO30pO1xyXG4gICQoJy5tZW51X21vYmlsZSAubWVudWEnKS5jbGljayhmdW5jdGlvbigpe21lbnVDbGljaygkKHRoaXMpKTt9KTtcclxuXHQkKCcuc2xpZGVfc2hvdycpLmVhY2goc2xpZGVfc2hvd2ZjKTsgIFxyXG5cdCQod2luZG93KS5sb2FkKHdpbmRvd19sb2FkKTtcclxuXHRmdW5jdGlvbiB3aW5kb3dfbG9hZCgpe1xyXG5cdFx0aWYod2ViRGF0YS53cnAuaGFzQ2xhc3MoJ3ByZXNzX2NvbnRlbnQnKSkgcHJlc3NfY29udGVudCgpO1xyXG4gICAgaWYod2ViRGF0YS53cnAuaGFzQ2xhc3MoJ2NhcnNfY29udGVudCcpKSBjYXJzX2NvbnRlbnQoKTtcclxuICAgIGlmKHdlYkRhdGEud3JwLmhhc0NsYXNzKCdjYXJzX2xpc3QnKSkgY2Fyc19saXN0KCk7XHJcbiAgICBpZih3ZWJEYXRhLndycC5oYXNDbGFzcygncHJlc3NfbGlzdCcpKSBwcmVzc19saXN0KCk7XHJcbiAgICBpZih3ZWJEYXRhLndycC5oYXNDbGFzcygnc2VydmljZScpKSBzZXJ2aWNlKCk7XHJcbiAgICBpZih3ZWJEYXRhLndycC5oYXNDbGFzcygnYWJvdXQnKSkgYWJvdXQoKTtcclxuICAgIGlmKHdlYkRhdGEud3JwLmhhc0NsYXNzKCdpbmRleCcpKSBpbmRleGZjKCk7ICAgIFxyXG5cdH1cclxuXHJcblxyXG5cdC8vRXZlbnRcclxuICBmdW5jdGlvbiBqb2ludXNGQygpe1xyXG4gICAgdmFyIG8gPSAkKCcucG9wIC5iZV9tZW1iZXInKTtcclxuICAgIHZhciB1c2VyX2RhdGEgPSB7XHJcbiAgICAgIG5hbWU6IG8uZmluZCgnLm5hbWUnKS52YWwoKSxcclxuICAgICAgZW1haWw6IG8uZmluZCgnLm1haWwnKS52YWwoKSxcclxuICAgICAgdXNlcnB3ZDogby5maW5kKCcucGFzc3dvcmQnKS52YWwoKSxcclxuICAgICAgdXNlcnB3ZGFnYWluOiBvLmZpbmQoJy5wYXNzd29yZF9hZ2FpbicpLnZhbCgpXHJcbiAgICB9O1xyXG4gICAgaWYoIXVzZXJfZGF0YS5uYW1lIHx8ICF1c2VyX2RhdGEuZW1haWwgfHwgIXVzZXJfZGF0YS51c2VycHdkIHx8ICF1c2VyX2RhdGEudXNlcnB3ZGFnYWluKXtcclxuICAgICAgYWxlcnQoJ+mChOacieacquWhq+Wvq+eahOizh+aWmeOAgicpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB2YXIgcmUgPSAvXigoW148PigpW1xcXVxcXFwuLDs6XFxzQFxcXCJdKyhcXC5bXjw+KClbXFxdXFxcXC4sOzpcXHNAXFxcIl0rKSopfChcXFwiLitcXFwiKSlAKChcXFtbMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFxdKXwoKFthLXpBLVpcXC0wLTldK1xcLikrW2EtekEtWl17Mix9KSkkLztcclxuICAgIGlmKCFyZS50ZXN0KHVzZXJfZGF0YS5lbWFpbCkpe1xyXG4gICAgICBhbGVydCgnRS1tYWls5qC85byP5LiN5q2j56K6Jyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmKHVzZXJfZGF0YS51c2VycHdkICE9IHVzZXJfZGF0YS51c2VycHdkYWdhaW4pe1xyXG4gICAgICBhbGVydCgn5a+G56K85YmN5b6M5LiN5LiA6Ie077yM6KuL6YeN5paw6Ly45YWlJyk7XHJcbiAgICAgIG8uZmluZCgnLnBhc3N3b3JkJykudmFsKCcnKTtcclxuICAgICAgby5maW5kKCcucGFzc3dvcmRfYWdhaW4nKS52YWwoJycpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICAkLmFqYXgoe1xyXG4gICAgICAgIHVybDogJ2h0dHA6Ly93d3cucmhpbm8tbW90b3IuY29tL1dlYi9pbmRleC5kbz9tZXRob2Q9am9pbnVzJyxcclxuICAgICAgICB0eXBlOiAnUE9TVCcsXHJcbiAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICBkYXRhOnVzZXJfZGF0YSxcclxuICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICAgIGlmKGRhdGEuc3RhdHVzPT0wKXtcclxuICAgICAgICAgICAgYWZ0ZXJqb2ludXMoKTtcclxuICAgICAgICAgIH1lbHNlIGFsZXJ0KGRhdGEuc3RhdHVzKTtcclxuICAgICAgICB9LGVycm9yOiBmdW5jdGlvbih4aHIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSB7ICAgICAgICAgICAgIFxyXG4gICAgICAgICAgY29uc29sZS5sb2coXCJlcnJvcjpcIiwgeGhyLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bik7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIGZ1bmN0aW9uIGFmdGVyam9pbnVzKCl7XHJcbiAgICB2YXIgbyA9ICQoJy5wb3AgLmJlX21lbWJlcicpO1xyXG4gICAgby5maW5kKCcubmFtZScpLnZhbCgnJyk7XHJcbiAgICBvLmZpbmQoJy5tYWlsJykudmFsKCcnKTtcclxuICAgIG8uZmluZCgnLnBhc3N3b3JkJykudmFsKCcnKTtcclxuICAgIG8uZmluZCgnLnBhc3N3b3JkX2FnYWluJykudmFsKCcnKTtcclxuICAgIGFsZXJ0KCfoqLvlhormiJDlip8nKTtcclxuICAgIGNoYW5nZW1lbWJlcnBvcCgwKTtcclxuICB9XHJcbiAgZnVuY3Rpb24gY29udGFjdEZDKCl7XHJcbiAgICB2YXIgbyA9ICQoJy5mb290ZXIgLnVzZXJfZGF0YScpO1xyXG4gICAgdmFyIHVzZXJfZGF0YSA9IHtcclxuICAgICAgY3VzdG9tZXJuYW1lOiBvLmZpbmQoJy51c2VyX25hbWUnKS52YWwoKSxcclxuICAgICAgY3VzdG9tZXJ0ZWw6IG8uZmluZCgnLnVzZXJfcGhvbmUnKS52YWwoKSxcclxuICAgICAgY3VzdG9tZXJlbWFpbDogby5maW5kKCcudXNlcl9tYWlsJykudmFsKCksXHJcbiAgICAgIGN1c3RvbWVyYWRkcmVzczogby5maW5kKCcudXNlcl9hZGRyJykudmFsKCksXHJcbiAgICAgIGN1c3RvbWVyY29udGVudDogJCgnLmZvb3RlciAubWVzc2FnZScpLnZhbCgpXHJcbiAgICB9O1xyXG4gICAgaWYoIXVzZXJfZGF0YS5jdXN0b21lcm5hbWUgfHwgIXVzZXJfZGF0YS5jdXN0b21lcnRlbCB8fCAhdXNlcl9kYXRhLmN1c3RvbWVyZW1haWwgfHwgIXVzZXJfZGF0YS5jdXN0b21lcmFkZHJlc3MgfHwgIXVzZXJfZGF0YS5jdXN0b21lcmNvbnRlbnQpe1xyXG4gICAgICBhbGVydCgn6YKE5pyJ5pyq5aGr5a+r55qE6LOH5paZ44CCJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHZhciBwYXR0ZXJuID0gL14oMFxcZCspKFxcZHs4fSkvO1xyXG4gICAgaWYgKCFwYXR0ZXJuLnRlc3QodXNlcl9kYXRhLmN1c3RvbWVydGVsKSB8fCB1c2VyX2RhdGEuY3VzdG9tZXJ0ZWwubGVuZ3RoIT0xMCkge1xyXG4gICAgICBhbGVydCgn6Zu76Kmx5qC85byP5LiN5q2j56K677yM6KuL5aGr5YWl5omL5qmf6Jmf56K877yM5L6L5aaC77yaMDl4eCAxMjMgNDU277yM5YWxMTDnorzjgIInKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdmFyIHJlID0gL14oKFtePD4oKVtcXF1cXFxcLiw7Olxcc0BcXFwiXSsoXFwuW148PigpW1xcXVxcXFwuLDs6XFxzQFxcXCJdKykqKXwoXFxcIi4rXFxcIikpQCgoXFxbWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcXSl8KChbYS16QS1aXFwtMC05XStcXC4pK1thLXpBLVpdezIsfSkpJC87XHJcbiAgICBpZighcmUudGVzdCh1c2VyX2RhdGEuY3VzdG9tZXJlbWFpbCkpe1xyXG4gICAgICBhbGVydCgnRS1tYWls5qC85byP5LiN5q2j56K6Jyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgICQuYWpheCh7XHJcbiAgICAgICAgdXJsOiAnaHR0cDovL3d3dy5yaGluby1tb3Rvci5jb20vV2ViL2luZGV4LmRvP21ldGhvZD1saW5rdXMnLFxyXG4gICAgICAgIHR5cGU6ICdQT1NUJyxcclxuICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgIGRhdGE6dXNlcl9kYXRhLFxyXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgICAgaWYoZGF0YS5zdGF0dXM9PTApe1xyXG4gICAgICAgICAgICBhZnRlcmNvbnRhY3QoKTtcclxuICAgICAgICAgIH1lbHNlIGFsZXJ0KGRhdGEuc3RhdHVzKTtcclxuICAgICAgICB9LGVycm9yOiBmdW5jdGlvbih4aHIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSB7ICAgICAgICAgICAgIFxyXG4gICAgICAgICAgY29uc29sZS5sb2coXCJlcnJvcjpcIiwgeGhyLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bik7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIGZ1bmN0aW9uIGFmdGVyY29udGFjdCgpe1xyXG4gICAgdmFyIG8gPSAkKCcuZm9vdGVyIC51c2VyX2RhdGEnKTtcclxuICAgIG8uZmluZCgnLnVzZXJfbmFtZScpLnZhbCgnJyk7XHJcbiAgICBvLmZpbmQoJy51c2VyX3Bob25lJykudmFsKCcnKTtcclxuICAgIG8uZmluZCgnLnVzZXJfbWFpbCcpLnZhbCgnJyk7XHJcbiAgICBvLmZpbmQoJy51c2VyX2FkZHInKS52YWwoJycpO1xyXG4gICAgJCgnLmZvb3RlciAubWVzc2FnZScpLnZhbCgnJyk7XHJcbiAgICBhbGVydCgn6YCB5Ye65oiQ5YqfJyk7XHJcbiAgfVxyXG4gIGZ1bmN0aW9uIGFmdGVyTG9naW4oKXtcclxuICAgIGlmKEZCZGF0YS51c2VyX25hbWUpIGFsZXJ0KEZCZGF0YS51c2VyX25hbWUgKyAn55m75YWl5oiQ5YqfJyk7XHJcbiAgICBlbHNlIGFsZXJ0KCfnmbvlhaXmiJDlip8nKTtcclxuICAgIHNob3dtZW1iZXJwb3AoZmFsc2UpO1xyXG4gICAgJCgnLnBvcCAubG9naW4nKS5maW5kKCcubWFpbCcpLnZhbCgnJyk7XHJcbiAgICAkKCcucG9wIC5sb2dpbicpLmZpbmQoJy5wYXNzd29yZCcpLnZhbCgnJyk7XHJcbiAgfVxyXG4gIGZ1bmN0aW9uIG1lbWJlcl9sb2dpbigpe1xyXG4gICAgLy9jaGVjayBkYXRhXHJcbiAgICB2YXIgbyA9ICQoJy5wb3AgLmxvZ2luJyk7XHJcbiAgICB2YXIgdXNlcl9kYXRhID0ge1xyXG4gICAgICBlbWFpbDogby5maW5kKCcubWFpbCcpLnZhbCgpLFxyXG4gICAgICB1c2VycHdkOiBvLmZpbmQoJy5wYXNzd29yZCcpLnZhbCgpXHJcbiAgICB9O1xyXG4gICAgaWYoIXVzZXJfZGF0YS5lbWFpbCB8fCAhdXNlcl9kYXRhLnVzZXJwd2Qpe1xyXG4gICAgICBhbGVydCgn6YKE5pyJ5pyq5aGr5a+r55qE6LOH5paZ44CCJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgICQuYWpheCh7XHJcbiAgICAgICAgdXJsOiAnaHR0cDovL3d3dy5yaGluby1tb3Rvci5jb20vV2ViL2luZGV4LmRvP21ldGhvZD1qb2ludXMnLFxyXG4gICAgICAgIHR5cGU6ICdQT1NUJyxcclxuICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgIGRhdGE6dXNlcl9kYXRhLFxyXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgICAgaWYoZGF0YS5zdGF0dXM9PTApe1xyXG4gICAgICAgICAgICBhZnRlckxvZ2luKCk7XHJcbiAgICAgICAgICB9ZWxzZSBhbGVydChkYXRhLnN0YXR1cyk7XHJcbiAgICAgICAgfSxlcnJvcjogZnVuY3Rpb24oeGhyLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bikgeyAgICAgICAgICAgICBcclxuICAgICAgICAgIGNvbnNvbGUubG9nKFwiZXJyb3I6XCIsIHhociwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuICBmdW5jdGlvbiBjaGFuZ2VtZW1iZXJwb3AoX24pe1xyXG4gICAgaWYoX24gPT0gMCkgJCgnLnBvcCAucG9waW4nKS5yZW1vdmVDbGFzcygnb24nKTtcclxuICAgIGVsc2UgaWYoX24gPT0gMSkgJCgnLnBvcCAucG9waW4nKS5hZGRDbGFzcygnb24nKTtcclxuICB9XHJcbiAgZnVuY3Rpb24gc2hvd21lbWJlcnBvcChfdCl7XHJcbiAgICBpZihfdCl7XHJcbiAgICAgICQoJy5wb3AnKS5mYWRlSW4oKTtcclxuICAgIH1lbHNle1xyXG4gICAgICAkKCcucG9wJykuZmFkZU91dCgpO1xyXG4gICAgfVxyXG4gIH1cclxuICBmdW5jdGlvbiBnZXRGQlBPU1QoKXtcclxuICAgIHRyeXtcclxuICAgICAgRkIuYXBpKFxyXG4gICAgICAgIFwiLzE0NzA1NTQxMTMyMDI5NzQ/ZmllbGRzPXBvc3RzLmxpbWl0KDYpe21lc3NhZ2UsbGluayxmdWxsX3BpY3R1cmUsdXBkYXRlZF90aW1lfSxuYW1lXCIsXHJcbiAgICAgICAgXCJHRVRcIixcclxuICAgICAgICB7XHJcbiAgICAgICAgICBcImFjY2Vzc190b2tlblwiOiBcIjE0MTc5OTI2NDgyMjY3MTZ8MEZUdEEyQmhIWXdPOFBuVlB1NmhQVld6TElNXCJcclxuICAgICAgICB9LFxyXG4gICAgICAgIGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgd2ViRGF0YS5mYnBvc3QgPSByZXNwb25zZTtcclxuICAgICAgICAgIGluc2VydEZCUE9TVCgpO1xyXG4gICAgICAgICAgaWYgKHJlc3BvbnNlICYmICFyZXNwb25zZS5lcnJvcil7fVxyXG4gICAgICAgICAgZWxzZSBjb25zb2xlLmxvZygnRkIgUE9TVCBFUlJPUicpO1xyXG4gICAgICAgIH1cclxuICAgICAgKTtcclxuICAgIH0gY2F0Y2goZXJyKXtjb25zb2xlLmxvZygnRkIgUE9TVCBFUlJPUicpO31cclxuICB9XHJcbiAgZnVuY3Rpb24gaW5zZXJ0RkJQT1NUKCl7XHJcbiAgICBmb3IoaSBpbiB3ZWJEYXRhLmZicG9zdC5wb3N0cy5kYXRhKXtcclxuICAgICAgJCgnLmZiX2FyZWFpbicpLmFwcGVuZCgnPGRpdiBjbGFzcz1cInBvc3RcIj48YSBocmVmPVwiJysgd2ViRGF0YS5mYnBvc3QucG9zdHMuZGF0YVtpXS5saW5rICsnXCIgdGFyZ2V0PVwiYmxhbmtcIj48ZGl2IGNsYXNzPVwiblwiPjxkaXYgY2xhc3M9XCJmcm9udFwiIHN0eWxlPVwiYmFja2dyb3VuZC1pbWFnZTogdXJsKCcrIHdlYkRhdGEuZmJwb3N0LnBvc3RzLmRhdGFbaV0uZnVsbF9waWN0dXJlICArJyk7IGJhY2tncm91bmQtcG9zaXRpb246Y2VudGVyOyBiYWNrZ3JvdW5kLXNpemU6Y292ZXI7IGJhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtcIj48L2Rpdj48ZGl2IGNsYXNzPVwiYmFja1wiPjxkaXYgY2xhc3M9XCJ0aXRsZVwiPjxkaXYgY2xhc3M9XCJsdFwiPjwvZGl2PjxkaXYgY2xhc3M9XCJydFwiPjxkaXYgY2xhc3M9XCJuYW1lXCI+Jysgd2ViRGF0YS5mYnBvc3QubmFtZSArJzwvZGl2PjxkaXYgY2xhc3M9XCJkYXRlXCI+Jysgd2ViRGF0YS5mYnBvc3QucG9zdHMuZGF0YVtpXS51cGRhdGVkX3RpbWUuc3BsaXQoJ1QnKVswXSArJzwvZGl2PjwvZGl2PjwvZGl2PjxkaXYgY2xhc3M9XCJkZXNcIj4nKyB3ZWJEYXRhLmZicG9zdC5wb3N0cy5kYXRhW2ldLm1lc3NhZ2UgKyc8L2Rpdj48L2Rpdj48L2Rpdj48L2E+PC9kaXY+Jyk7XHJcbiAgICB9XHJcbiAgICBzaG93bG9hZGluZyhmYWxzZSk7XHJcbiAgfVxyXG4gIGZ1bmN0aW9uIGluZGV4ZmMoKXtcclxuICAgIHdlYkRhdGEuYmFubmVyX3N3aXBlciA9IG5ldyBTd2lwZXIoJy5iYW5uZXJfY29udGFpbmVyJywgeyAgXHJcbiAgICAgICAgICBzcGVlZDoxMDAwLCAgIFxyXG4gICAgICAgICAgd3JhcHBlckNsYXNzOiAnc3dpcGVyLXdyYXBwZXInLFxyXG4gICAgICAgICAgc2xpZGVDbGFzczogJ3N3aXBlci1zbGlkZScsXHJcbiAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAxLFxyXG4gICAgICAgICAgcGFnaW5hdGlvbjogJy5iYW5uZXItcGFnaW5hdGlvbicsICAgICAgICBcclxuICAgICAgICAgIHBhZ2luYXRpb25DbGlja2FibGU6IHRydWUsXHJcbiAgICAgICAgICBzcGFjZUJldHdlZW46IDAsXHJcbiAgICAgICAgICBsb29wOiB0cnVlLFxyXG4gICAgICAgICAgYXV0b3BsYXk6NjAwMCxcclxuICAgICAgICAgIGF1dG9wbGF5RGlzYWJsZU9uSW50ZXJhY3Rpb246ZmFsc2VcclxuICAgIH0pO1xyXG4gICAgJCgnLmJhbm5lciAubGVmdGJ0bicpLmNsaWNrKGZ1bmN0aW9uKCl7d2ViRGF0YS5iYW5uZXJfc3dpcGVyLnNsaWRlUHJldigpO30pO1xyXG4gICAgJCgnLmJhbm5lciAucmlnaHRidG4nKS5jbGljayhmdW5jdGlvbigpe3dlYkRhdGEuYmFubmVyX3N3aXBlci5zbGlkZU5leHQoKTt9KTtcclxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtnZXRGQlBPU1QoKTt9LDMwMCk7ICAgIFxyXG4gIH1cclxuICBmdW5jdGlvbiBzZXJ2aWNlKCl7XHJcbiAgICB3aW5kb3cub25zY3JvbGwgPSB3aW5kb3dPbnNjcm9sbDtcclxuICAgIHdpbmRvd09uc2Nyb2xsKCk7XHJcbiAgICBzaG93bG9hZGluZyhmYWxzZSk7XHJcbiAgfVxyXG4gIGZ1bmN0aW9uIGFib3V0KCl7XHJcbiAgICBzaG93bG9hZGluZyhmYWxzZSk7XHJcbiAgfVxyXG4gIGZ1bmN0aW9uIHByZXNzX2xpc3QoKXtcclxuICAgIHdlYkRhdGEubm93YnJhbmRzID0gZ2V0VXJsVmFycygpWydicmFuZHMnXTtcclxuICAgIGlmKCF3ZWJEYXRhLm5vd2JyYW5kcykgd2ViRGF0YS5ub3dicmFuZHM9MTtcclxuICAgICQoJy5zZWNfbWVudWluIC5tZW51YScpLmVxKHdlYkRhdGEubm93YnJhbmRzKjEtMSkuYWRkQ2xhc3MoJ29uJyk7XHJcbiAgICBzaG93bG9hZGluZyhmYWxzZSk7XHJcbiAgfVxyXG4gIGZ1bmN0aW9uIGNhcnNfbGlzdCgpe1xyXG4gICAgd2ViRGF0YS5ub3dicmFuZHMgPSBnZXRVcmxWYXJzKClbJ2JyYW5kcyddO1xyXG4gICAgaWYoIXdlYkRhdGEubm93YnJhbmRzKSB3ZWJEYXRhLm5vd2JyYW5kcz0xO1xyXG4gICAgJCgnLnNlY19tZW51aW4gLm1lbnVhJykuZXEod2ViRGF0YS5ub3dicmFuZHMqMS0xKS5hZGRDbGFzcygnb24nKTtcclxuICAgIHNob3dsb2FkaW5nKGZhbHNlKTtcclxuICB9XHJcbiAgZnVuY3Rpb24gY2Fyc19jb250ZW50KCl7XHJcbiAgICBpZigkKCcuc2xpZGVfc2hvdycpLmxlbmd0aCAhPTApICQoXCIuc2xpZGVfc2hvdyAuc19waWNfYm94XCIpLm1DdXN0b21TY3JvbGxiYXIoe3Njcm9sbEluZXJ0aWE6MzAwLHNjcm9sbEVhc2luZzonbGluZWFyJ30pO1xyXG4gICAgaWYoJCgnLmNhcnNfd2lkdGgnKS5sZW5ndGggIT0wKSAkKFwiLmNhcnNfd2lkdGggLml0ZW1cIikubUN1c3RvbVNjcm9sbGJhcih7c2Nyb2xsSW5lcnRpYTozMDAsc2Nyb2xsRWFzaW5nOidsaW5lYXInfSk7XHJcbiAgICBpZigkKCcuY2Fyc19kZXMnKS5sZW5ndGggIT0wKSAkKFwiLmNhcnNfZGVzIC53XCIpLm1DdXN0b21TY3JvbGxiYXIoe3Njcm9sbEluZXJ0aWE6MzAwLHNjcm9sbEVhc2luZzonbGluZWFyJ30pO1xyXG4gICAgaWYoJCgnLmZiX2NvbW1lbnRfYm94JykubGVuZ3RoICE9MCkgJChcIi5mYl9jb21tZW50X2JveFwiKS5tQ3VzdG9tU2Nyb2xsYmFyKHtzY3JvbGxJbmVydGlhOjMwMCxzY3JvbGxFYXNpbmc6J2xpbmVhcid9KTsgICAgXHJcbiAgICBzaG93bG9hZGluZyhmYWxzZSk7XHJcbiAgfSBcdFxyXG5cdGZ1bmN0aW9uIHByZXNzX2NvbnRlbnQoKXtcclxuXHRcdGlmKCQoJy5zbGlkZV9zaG93JykubGVuZ3RoICE9MCkgJChcIi5zbGlkZV9zaG93IC5zX3BpY19ib3hcIikubUN1c3RvbVNjcm9sbGJhcih7c2Nyb2xsSW5lcnRpYTozMDAsc2Nyb2xsRWFzaW5nOidsaW5lYXInfSk7XHJcbiAgICBzaG93bG9hZGluZyhmYWxzZSk7XHJcblx0fVxyXG5cdGZ1bmN0aW9uIHNsaWRlX3Nob3dmYygpe1xyXG5cdFx0dmFyIGJfcGljID0gJCh0aGlzKS5maW5kKCcuYl9waWMnKSxcclxuICAgICAgICBsZWZ0YnRuID0gYl9waWMuZmluZCgnLmxlZnRidG4nKSxcclxuICAgICAgICByaWdodGJ0biA9IGJfcGljLmZpbmQoJy5yaWdodGJ0bicpLFxyXG5cdFx0ICAgIHNfcGljID0gJCh0aGlzKS5maW5kKCcuc19waWMnKSxcclxuICAgICAgICBfbGVuZ3RoID0gJCh0aGlzKS5maW5kKCdsaScpLmxlbmd0aCxcclxuICAgICAgICBub3dudW0gPSAwO1xyXG5cdFx0c19waWMuY2xpY2soZnVuY3Rpb24oKXtub3dudW0gPSAkKHRoaXMpLnBhcmVudCgpLmluZGV4KCk7Y2hhbmdlX3BpYygpO30pO1xyXG4gICAgbGVmdGJ0bi5jbGljayhmdW5jdGlvbigpe25vd251bS09MTtjaGFuZ2VfcGljKCk7fSk7XHJcbiAgICByaWdodGJ0bi5jbGljayhmdW5jdGlvbigpe25vd251bSs9MTtjaGFuZ2VfcGljKCk7fSk7XHJcbiAgICBjaGFuZ2VfcGljKG5vd251bSk7XHJcblx0XHRmdW5jdGlvbiBjaGFuZ2VfcGljKCl7XHJcbiAgICAgIGlmKG5vd251bTwwKSBub3dudW0gPSBfbGVuZ3RoLTE7XHJcbiAgICAgIGVsc2UgaWYobm93bnVtPiBfbGVuZ3RoLTEpIG5vd251bSA9IDA7XHJcbiAgICAgIHNfcGljLnJlbW92ZUNsYXNzKCdvbicpLmVxKG5vd251bSkuYWRkQ2xhc3MoJ29uJyk7XHJcblx0XHRcdGJfcGljLmF0dHIoJ2NsYXNzJywnYl9waWMgb2ZmJyk7XHJcblx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuXHRcdFx0XHRiX3BpYy5maW5kKCdpbWcnKS5hdHRyKCdzcmMnLHNfcGljLmVxKG5vd251bSkuZmluZCgnaW1nJykuYXR0cignc3JjJykpLmxvYWQoZnVuY3Rpb24oKXtcclxuXHRcdFx0XHRcdGJfcGljLmF0dHIoJ2NsYXNzJywnYl9waWMnKTtcclxuXHRcdFx0XHR9KS5lYWNoKGZ1bmN0aW9uKCl7XHJcbiAgXHRcdFx0XHRpZih0aGlzLmNvbXBsZXRlKSB7JCh0aGlzKS50cmlnZ2VyKCdsb2FkJyk7fVxyXG4gIFx0XHRcdH0pOyAgXHRcdFx0XHRcclxuXHRcdFx0fSwzMDApO1xyXG5cdFx0fVxyXG5cdH1cclxuICBmdW5jdGlvbiBtZW51Q2xpY2soX28pe1xyXG4gICAgdmFyIF90eHQgPSBfby5maW5kKCdhJykudGV4dCgpO1xyXG4gICAgaWYoX3R4dCA9PSAnQ09OVEFDVCBVUycpIGdvY29udGFjdCgpO1xyXG4gIH1cclxuICBmdW5jdGlvbiBnb2NvbnRhY3QoKXtcclxuICAgICQoJ2h0bWwsYm9keScpLmFuaW1hdGUoe3Njcm9sbFRvcDokKCcuY29udGFjdCcpLm9mZnNldCgpLnRvcH0sNTAwKTtcclxuICB9XHJcbiAgZnVuY3Rpb24gc2hvd2xvYWRpbmcoX3Qpe1xyXG4gICAgaWYoX3QpICQoJy5sb2FkaW5nJykuZmFkZUluKCk7XHJcbiAgICBlbHNlICQoJy5sb2FkaW5nJykuZmFkZU91dCgpO1xyXG4gIH1cclxuICBmdW5jdGlvbiB3aW5kb3dPbnNjcm9sbCgpe1xyXG4gICAgdmFyIF9ib3R0b20gPSB3aW5kb3cucGFnZVlPZmZzZXQgKyAkKHdpbmRvdykuaGVpZ2h0KCkgLSB3ZWJEYXRhLmJvdHRvbURpcztcclxuICAgIHZhciBhbmlEb20gPSAkKCcuaXRlbScpO1xyXG4gICAgZm9yKHZhciBpID0wOyBpPGFuaURvbS5sZW5ndGg7aSsrKXtcclxuICAgICAgaWYoYW5pRG9tLmVxKGkpLm9mZnNldCgpLnRvcDxfYm90dG9tKXtcclxuICAgICAgICBpZighYW5pRG9tLmVxKGkpLmhhc0NsYXNzKCdvbicpKXtcclxuICAgICAgICAgIGFuaURvbS5lcShpKS5hZGRDbGFzcygnb24nKTtcclxuICAgICAgICB9ICAgICAgIFxyXG4gICAgICB9XHJcbiAgICAgIGVsc2UgYW5pRG9tLmVxKGkpLnJlbW92ZUNsYXNzKCdvbicpO1xyXG4gICAgfSAgICBcclxuICB9XHJcbiAgLy/mqqLmn6VGQuaOiOasiuaYr+WQpuWujOaVtFxyXG4gIGZ1bmN0aW9uIEZCYXBpX3Blcm1pc3Npb25zKCl7XHJcbiAgICBGQi5hcGkoJy9tZT9maWVsZHM9cGVybWlzc2lvbnMnLCBmdW5jdGlvbiAocmVzKXtcclxuICAgICAgRkJkYXRhLmFsbHBlcm1pc3Npb25zID0gdHJ1ZTsgICAgICAgXHJcbiAgICAgICAgICBmb3IoaSBpbiByZXMucGVybWlzc2lvbnMuZGF0YSl7XHJcbiAgICAgICAgICAgIGlmKHJlcy5wZXJtaXNzaW9ucy5kYXRhW2ldLnN0YXR1cz09XCJkZWNsaW5lZFwiKXsgXHJcbiAgICAgICAgICAgICAgRkJkYXRhLmFsbHBlcm1pc3Npb25zID0gZmFsc2U7ICAgICAgIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IFxyXG4gICAgICAgICAgaWYoRkJkYXRhLmFsbHBlcm1pc3Npb25zKXtGQmFwaV9nZXRkYXRhKCk7fVxyXG4gICAgICAgIGVsc2V7YWxlcnQocGVybWlzc2lvbnN3b3JkKTt9XHJcbiAgICAgIH0pOyAgXHJcbiAgfSBcclxuXHJcbiAgLy/mqqLmn6VGQuaYr+WQpuacieeZu+WFpVxyXG4gIGZ1bmN0aW9uIEZCZ2V0TG9naW5TdGF0dXMoKXtcclxuICAgIEZCLmdldExvZ2luU3RhdHVzKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09ICdjb25uZWN0ZWQnKSB7XHJcbiAgICAgICAgRkJkYXRhLnVzZXJfdG9rZW4gPSByZXNwb25zZS5hdXRoUmVzcG9uc2UuYWNjZXNzVG9rZW47ICAgICAgICBcclxuICAgICAgICBGQmFwaV9wZXJtaXNzaW9ucygpOyAgICAgICAgXHJcbiAgICAgIH0gZWxzZXtcclxuICAgICAgRkJsb2dpbigpO1xyXG4gICAgICB9XHJcbiAgICB9KTsgICBcclxuICB9XHJcblxyXG4gIC8vRkLnmbvlhaVcclxuICBmdW5jdGlvbiBGQmxvZ2luKCl7XHJcbiAgICBpZihkZXZpY2UubW9iaWxlKCkpe1xyXG4gICAgICB2YXIgZmJ1cmwgPSAnaHR0cHM6Ly9tLmZhY2Vib29rLmNvbS9kaWFsb2cvb2F1dGg/Y2xpZW50X2lkPScrRkJBcHBJZCsnJnJlZGlyZWN0X3VyaT0nKyBlbmNvZGVVUklDb21wb25lbnQoYmFja3VybCkrXCImc2NvcGU9XCIgKyBGQmRhdGEucGVyK1wiJmF1dGhfdHlwZT1yZXJlcXVlc3RcIjtcclxuICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmPWZidXJsOyAgICAgICAgICAgICAgIFxyXG4gICAgfWVsc2V7ICAgICAgICBcclxuICAgICAgRkIubG9naW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICBpZiAocmVzcG9uc2UuYXV0aFJlc3BvbnNlKSB7XHJcbiAgICAgICAgICBGQmRhdGEudXNlcl90b2tlbiA9IEZCLmdldEF1dGhSZXNwb25zZSgpWydhY2Nlc3NUb2tlbiddO1xyXG4gICAgICAgICAgRkJhcGlfcGVybWlzc2lvbnMoKTsgICAgICAgICAgXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICBhbGVydChwZXJtaXNzaW9uc3dvcmQpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSx7c2NvcGU6IEZCZGF0YS5wZXIsYXV0aF90eXBlOiAncmVyZXF1ZXN0J30pO1xyXG4gICAgfSBcclxuICB9XHJcblxyXG4gIC8v5oqT5Y+W5omA6ZyARkLos4fmlplcclxuICBmdW5jdGlvbiBGQmFwaV9nZXRkYXRhKCl7XHJcbiAgICBGQi5hcGkoJy9tZScsIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgRkJkYXRhLnVzZXJfaWQ9cmVzcG9uc2UuaWQ7XHJcbiAgICAgICAgRkJkYXRhLnVzZXJfbmFtZSA9IHJlc3BvbnNlLm5hbWU7XHJcbiAgICAgICAgRkIuYXBpKCcvbWU/ZmllbGRzPWVtYWlsJywgZnVuY3Rpb24gKHJlc3BvbnNlKXtcclxuICAgICAgICBGQmRhdGEudXNlcl9lbWFpbCA9IHJlc3BvbnNlLmVtYWlsO1xyXG4gICAgICAgIEFmdGVyRkJMb2dpbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4gIC8v6KGM5YuV6KOd572u55m75YWlRkLovYnlnYDlm57kvoblvozmgaLlvqnnmbvlhaXliY3nlavpnaLnmoTln7fooYzkuovku7ZcclxuICBmdW5jdGlvbiBBZnRlckZCYmFjaygpe1xyXG4gICAgY29uc29sZS5sb2coXCJBZnRlckZCYmFja1wiKTtcclxuICB9XHJcblxyXG4gIC8v55m75YWlRkLku6Xlj4rmipPlj5bos4fmlpnlvoznmoTln7fooYzkuovku7ZcclxuICBmdW5jdGlvbiBBZnRlckZCTG9naW4oKXsgICAgXHJcbiAgICBjb25zb2xlLmxvZygn5L2/55So6ICFSUQ6JytGQmRhdGEudXNlcl9pZCk7XHJcbiAgICBjb25zb2xlLmxvZygn5L2/55So6ICF5ZCN5a2XOicrRkJkYXRhLnVzZXJfbmFtZSk7XHJcbiAgICBjb25zb2xlLmxvZygnRkIg5L2/55So6ICF5L+h566xOicrRkJkYXRhLnVzZXJfZW1haWwpO1xyXG5cclxuICAgIHZhciB1c2VyX2RhdGEgPSB7XHJcbiAgICAgIGVtYWlsOiBGQmRhdGEudXNlcl9lbWFpbCxcclxuICAgICAgdXNlcnB3ZDogRkJkYXRhLnVzZXJfaWQsXHJcbiAgICAgIG5hbWU6IEZCZGF0YS51c2VyX25hbWVcclxuICAgIH07XHJcblxyXG4gICAgJC5hamF4KHtcclxuICAgICAgICB1cmw6ICdodHRwOi8vd3d3LnJoaW5vLW1vdG9yLmNvbS9XZWIvaW5kZXguZG8/bWV0aG9kPWZibG9naW4nLFxyXG4gICAgICAgIHR5cGU6ICdQT1NUJyxcclxuICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgIGRhdGE6dXNlcl9kYXRhLFxyXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgICAgaWYoZGF0YS5zdGF0dXM9PTApe1xyXG4gICAgICAgICAgICBhZnRlckxvZ2luKCk7XHJcbiAgICAgICAgICB9ZWxzZSBhbGVydChkYXRhLnN0YXR1cyk7XHJcbiAgICAgICAgfSxlcnJvcjogZnVuY3Rpb24oeGhyLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bikgeyAgICAgICAgICAgICBcclxuICAgICAgICAgIGNvbnNvbGUubG9nKFwiZXJyb3I6XCIsIHhociwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbn0pLy9yZWFkeSBlbmQgXHJcbmZ1bmN0aW9uIGdldFVybFZhcnMoKXtcclxuICB2YXIgdmFycz1bXSxoYXNoO3ZhciBoYXNoZXM9d2luZG93LmxvY2F0aW9uLmhyZWYuc2xpY2Uod2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZignPycpKzEpLnNwbGl0KCcmJyk7XHJcbiAgZm9yKHZhciBpPTA7aTxoYXNoZXMubGVuZ3RoO2krKyl7aGFzaD1oYXNoZXNbaV0uc3BsaXQoJz0nKTt2YXJzLnB1c2goaGFzaFswXSk7dmFyc1toYXNoWzBdXT1oYXNoWzFdfVxyXG4gIHJldHVybiB2YXJzXHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
